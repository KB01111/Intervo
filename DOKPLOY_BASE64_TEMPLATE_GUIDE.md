# 🚀 Intervo Dokploy Base64 Template Guide

This guide shows you how to use the corrected base64 template to deploy your Intervo application in Dokploy.

## ✅ Corrected Base64 Template

**Copy this base64 string for Dokploy import:**

```
ewogICJuYW1lIjogIkludGVydm8gQUkgUGxhdGZvcm0iLAogICJkZXNjcmlwdGlvbiI6ICJDb21wbGV0ZSBBSS1wb3dlcmVkIG9vbnZlcnNhdGlvbiBwbGF0Zm9ybSB3aXRoIGZyb250ZW5kLCBiYWNrZW5kLCBhbmQgUkFHIEFQSSBzZXJ2aWNlcyIsCiAgInZlcnNpb24iOiAiMS4wLjAiLAogICJsb2dvIjogImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9LQjAxMTExL0ludGVydm8vbWFpbi9sb2dvLnBuZyIsCiAgInRhZ3MiOiBbCiAgICAiYWkiLAogICAgImNoYXQiLAogICAgImNvbnZlcnNhdGlvbiIsCiAgICAicmFnIiwKICAgICJuZXh0anMiLAogICAgIm5vZGVqcyIsCiAgICAicHl0aG9uIgogIF0sCiAgImxpbmtzIjogewogICAgImdpdGh1YiI6ICJodHRwczovL2dpdGh1Yi5jb20vS0IwMTExMS9JbnRlcnZvIiwKICAgICJkb2NzIjogImh0dHBzOi8vZG9jcy5pbnRlcnZvLmFpIgogIH0sCiAgImNvbXBvc2UiOiAic2VydmljZXM6XG4gICMgTW9uZ29EQiBEYXRhYmFzZVxuICBtb25nb2RiOlxuICAgIGltYWdlOiBtb25nbzo3LWphbW15XG4gICAgZW52aXJvbm1lbnQ6XG4gICAgICAtIE1PTkdPX0lOSVREQl9ST09UX1VTRVJOQU1FPWFkbWluXG4gICAgICAtIE1PTkdPX0lOSVREQl9ST09UX1BBU1NXT1JEPXBhc3N3b3JkMTIzXG4gICAgdm9sdW1lczpcbiAgICAgIC0gbW9uZ29kYl9kYXRhOi9kYXRhL2RiXG4gICAgcmVzdGFydDogdW5sZXNzLXN0b3BwZWRcblxuICAjIEZyb250ZW5kIChOZXh0LmpzKVxuICBmcm9udGVuZDpcbiAgICBpbWFnZTogbm9kZToyMC1hbHBpbmVcbiAgICB3b3JraW5nX2RpcjogL2FwcFxuICAgIHZvbHVtZXM6XG4gICAgICAtIC46L2FwcFxuICAgICAgLSBub2RlX21vZHVsZXM6L2FwcC9ub2RlX21vZHVsZXNcbiAgICBlbnZpcm9ubWVudDpcbiAgICAgIC0gTk9ERV9FTlY9cHJvZHVjdGlvblxuICAgICAgLSBORVhUX1BVQkxJQ19BUElfVVJMX1BST0RVQ1RJT049JHtiYWNrZW5kX3VybH1cbiAgICBjb21tYW5kOiBzaCAtYyBcIm5wbSBpbnN0YWxsIC0tbGVnYWN5LXBlZXItZGVwcyAmJiBucG0gcnVuIGJ1aWxkIC0td29ya3NwYWNlPWludGVydm8td2lkZ2V0ICYmIG5wbSBydW4gYnVpbGQgLS13b3Jrc3BhY2U9aW50ZXJ2by1mcm9udGVuZCAmJiBucG0gZXhlYyAtLXdvcmtzcGFjZT1pbnRlcnZvLWZyb250ZW5kIC0tIG5leHQgc3RhcnRcIlxuICAgIGRlcGVuZHNfb246XG4gICAgICAtIGJhY2tlbmRcbiAgICByZXN0YXJ0OiB1bmxlc3Mtc3RvcHBlZFxuXG4gICMgQmFja2VuZCAoTm9kZS5qcylcbiAgYmFja2VuZDpcbiAgICBpbWFnZTogbm9kZToyMC1hbHBpbmVcbiAgICB3b3JraW5nX2RpcjogL2FwcC9wYWNrYWdlcy9pbnRlcnZvLWJhY2tlbmRcbiAgICB2b2x1bWVzOlxuICAgICAgLSAuOi9hcHBcbiAgICAgIC0gYmFja2VuZF9ub2RlX21vZHVsZXM6L2FwcC9wYWNrYWdlcy9pbnRlcnZvLWJhY2tlbmQvbm9kZV9tb2R1bGVzXG4gICAgICAtIGJhY2tlbmRfbG9nczovYXBwL3BhY2thZ2VzL2ludGVydm8tYmFja2VuZC9sb2dzXG4gICAgICAtIGJhY2tlbmRfdXBsb2FkczovYXBwL3BhY2thZ2VzL2ludGVydm8tYmFja2VuZC91cGxvYWRzXG4gICAgZW52aXJvbm1lbnQ6XG4gICAgICAtIE5PREVfRU5WPXByb2R1Y3Rpb25cbiAgICAgIC0gTU9OR09fVVJJPW1vbmdvZGI6Ly9hZG1pbjpwYXNzd29yZDEyM0Btb25nb2RiOjI3MDE3L2ludGVydm8/YXV0aFNvdXJjZT1hZG1pblxuICAgICAgLSBTRVNTSU9OX1NFQ1JFVD0ke3Nlc3Npb25fc2VjcmV0fVxuICAgICAgLSBORVhUQVVUSF9TRUNSRVQ9JHtuZXh0YXV0aF9zZWNyZXR9XG4gICAgICAtIEVOQ1JZUFRJT05fS0VZPSR7ZW5jcnlwdGlvbl9rZXl9XG4gICAgICAtIEJBU0VfVVJMPSR7YmFja2VuZF91cmx9XG4gICAgICAtIEZST05URU5EX1VSTD0ke2Zyb250ZW5kX3VybH1cbiAgICAgIC0gTkVYVEFVVEhfVVJMPSR7YmFja2VuZF91cmx9XG4gICAgICAtIFJBR19BUElfVVJMPWh0dHA6Ly9yYWctYXBpOjQwMDNcbiAgICAgIC0gQUxMT1dFRF9PUklHSU5TPSR7ZnJvbnRlbmRfdXJsfSwke2JhY2tlbmRfdXJsfSwke3JhZ191cmx9XG4gICAgICAtIFRXSUxJT19BQ0NPVU5UX1NJRD0ke3R3aWxpb19hY2NvdW50X3NpZH1cbiAgICAgIC0gVFdJTElPX0FVVEhfVE9LRU49JHt0d2lsaW9fYXV0aF90b2tlbn1cbiAgICAgIC0gVFdJTElPX0FQSV9LRVk9JHt0d2lsaW9fYXBpX2tleX1cbiAgICAgIC0gVFdJTElPX0FQSV9TRUNSRVQ9JHt0d2lsaW9fYXBpX3NlY3JldH1cbiAgICAgIC0gVFdJTElPX0FQUF9TSUQ9JHt0d2lsaW9fYXBwX3NpZH1cbiAgICAgIC0gVFdJTElPX1BIT05FX05VTUJFUj0ke3R3aWxpb19waG9uZV9udW1iZXJ9XG4gICAgICAtIE9QRU5BSV9BUElfS0VZPSR7b3BlbmFpX2FwaV9rZXl9XG4gICAgICAtIEdST1FfQVBJX0tFWT0ke2dyb3FfYXBpX2tleX1cbiAgICAgIC0gQUlfRkxPV19BUElfS0VZPSR7YWlfZmxvd19hcGlfa2V5fVxuICAgICAgLSBBU1NFTUJMWUFJX0FQSV9LRVk9JHthc3NlbWJseWFpX2FwaV9rZXl9XG4gICAgICAtIEFaVVJFX1NQRUVDSF9LRVk9JHthenVyZV9zcGVlY2hfa2V5fVxuICAgICAgLSBBWlVSRV9TUEVFQ0hfUkVHSU9OPSR7YXp1cmVfc3BlZWNoX3JlZ2lvbn1cbiAgICAgIC0gRUxFVkVOTEFCU19BUElfS0VZPSR7ZWxldmVubGFic19hcGlfa2V5fVxuICAgICAgLSBFTEVWRU5MQUJTX1ZPSUNFX0lEPSR7ZWxldmVubGFic192b2ljZV9pZH1cbiAgICAgIC0gQVdTX0FDQ0VTU19LRVlfSUQ9JHthd3NfYWNjZXNzX2tleV9pZH1cbiAgICAgIC0gQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZPSR7YXdzX3NlY3JldF9hY2Nlc3Nfa2V5fVxuICAgICAgLSBBV1NfUkVHSU9OPSR7YXdzX3JlZ2lvbn1cbiAgICAgIC0gR09PR0xFX0NMSUVOVF9JRD0ke2dvb2dsZV9jbGllbnRfaWR9XG4gICAgICAtIEdPT0dMRV9DTElFTlRfU0VDUkVUPSR7Z29vZ2xlX2NsaWVudF9zZWNyZXR9XG4gICAgY29tbWFuZDogc2ggLWMgXCJucG0gaW5zdGFsbCAtLWxlZ2FjeS1wZWVyLWRlcHMgJiYgbnBtIHN0YXJ0XCJcbiAgICBkZXBlbmRzX29uOlxuICAgICAgLSBtb25nb2RiXG4gICAgcmVzdGFydDogdW5sZXNzLXN0b3BwZWRcblxuICAjIFJBRyBBUEkgKFB5dGhvbilcbiAgcmFnLWFwaTpcbiAgICBpbWFnZTogcHl0aG9uOjMuMTEtc2xpbVxuICAgIHdvcmtpbmdfZGlyOiAvYXBwL3BhY2thZ2VzL2ludGVydm8tYmFja2VuZC9yYWdfcHlcbiAgICB2b2x1bWVzOlxuICAgICAgLSAuOi9hcHBcbiAgICAgIC0gcmFnX2FwaV9jYWNoZTovcm9vdC8uY2FjaGVcbiAgICAgIC0gdmVjdG9yX3N0b3JlczovYXBwL3BhY2thZ2VzL2ludGVydm8tYmFja2VuZC9yYWdfcHkvdmVjdG9yX3N0b3Jlc1xuICAgIGVudmlyb25tZW50OlxuICAgICAgLSBQWVRIT05QQVRIPS9hcHAvcGFja2FnZXMvaW50ZXJ2by1iYWNrZW5kXG4gICAgICAtIEVOVklST05NRU5UPXByb2R1Y3Rpb25cbiAgICAgIC0gQkFDS0VORF9VUkw9aHR0cDovL2JhY2tlbmQ6MzAwM1xuICAgIGNvbW1hbmQ6IHNoIC1jIFwicGlwIGluc3RhbGwgLS1uby1jYWNoZS1kaXIgLXIgcmVxdWlyZW1lbnRzLnR4dCAmJiBweXRob24gYXBpLnB5XCJcbiAgICByZXN0YXJ0OiB1bmxlc3Mtc3RvcHBlZFxuXG52b2x1bWVzOlxuICBub2RlX21vZHVsZXM6XG4gIGJhY2tlbmRfbm9kZV9tb2R1bGVzOlxuICBiYWNrZW5kX2xvZ3M6XG4gIGJhY2tlbmRfdXBsb2FkczpcbiAgcmFnX2FwaV9jYWNoZTpcbiAgdmVjdG9yX3N0b3JlczpcbiAgbW9uZ29kYl9kYXRhOlxuIiwKICAidGVtcGxhdGUiOiAiW3ZhcmlhYmxlc11cbiMgRG9tYWluIENvbmZpZ3VyYXRpb25cbmZyb250ZW5kX2RvbWFpbiA9IFwiJHtkb21haW59XCJcbmJhY2tlbmRfZG9tYWluID0gXCIke2RvbWFpbn1cIlxucmFnX2RvbWFpbiA9IFwiJHtkb21haW59XCJcblxuIyBVUkxzIGZvciBpbnRlcm5hbCBjb21tdW5pY2F0aW9uXG5mcm9udGVuZF91cmwgPSBcImh0dHBzOi8vJHtmcm9udGVuZF9kb21haW59XCJcbmJhY2tlbmRfdXJsID0gXCJodHRwczovLyR7YmFja2VuZF9kb21haW59XCJcbnJhZ191cmwgPSBcImh0dHBzOi8vJHtyYWdfZG9tYWlufVwiXG5cbiMgU2VjdXJpdHkgU2VjcmV0cyAoQXV0by1nZW5lcmF0ZWQpXG5zZXNzaW9uX3NlY3JldCA9IFwiJHtwYXNzd29yZDozMn1cIlxubmV4dGF1dGhfc2VjcmV0ID0gXCIke3Bhc3N3b3JkOjMyfVwiXG5lbmNyeXB0aW9uX2tleSA9IFwiJHtwYXNzd29yZDozMn1cIlxuXG4jIFR3aWxpbyBDb25maWd1cmF0aW9uIChVc2VyIG11c3QgcHJvdmlkZSlcbnR3aWxpb19hY2NvdW50X3NpZCA9IFwiQUN4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eFwiXG50d2lsaW9fYXV0aF90b2tlbiA9IFwieW91ci10d2lsaW8tYXV0aC10b2tlblwiXG50d2lsaW9fYXBpX2tleSA9IFwiU0t4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eFwiXG50d2lsaW9fYXBpX3NlY3JldCA9IFwieW91ci10d2lsaW8tYXBpLXNlY3JldFwiXG50d2lsaW9fYXBwX3NpZCA9IFwiQVB4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eFwiXG50d2lsaW9fcGhvbmVfbnVtYmVyID0gXCIrMTIzNDU2Nzg5MFwiXG5cbiMgQUkgU2VydmljZXMgKFVzZXIgbXVzdCBwcm92aWRlKVxub3BlbmFpX2FwaV9rZXkgPSBcInNrLXlvdXItb3BlbmFpLWFwaS1rZXlcIlxuZ3JvcV9hcGlfa2V5ID0gXCJnc2tfeW91ci1ncm9xLWFwaS1rZXlcIlxuYWlfZmxvd19hcGlfa2V5ID0gXCJ5b3VyLWFpLWZsb3cta2V5XCJcblxuIyBTcGVlY2ggU2VydmljZXMgKFVzZXIgbXVzdCBwcm92aWRlKVxuYXNzZW1ibHlhaV9hcGlfa2V5ID0gXCJ5b3VyLWFzc2VtYmx5YWktYXBpLWtleVwiXG5henVyZV9zcGVlY2hfa2V5ID0gXCJ5b3VyLWF6dXJlLXNwZWVjaC1rZXlcIlxuYXp1cmVfc3BlZWNoX3JlZ2lvbiA9IFwiZWFzdHVzXCJcbmVsZXZlbmxhYnNfYXBpX2tleSA9IFwieW91ci1lbGV2ZW5sYWJzLWFwaS1rZXlcIlxuZWxldmVubGFic192b2ljZV9pZCA9IFwiMjFtMDBUY200VGx2RHE4aWtXQU1cIlxuXG4jIEFXUyBTZXJ2aWNlcyAoVXNlciBtdXN0IHByb3ZpZGUpXG5hd3NfYWNjZXNzX2tleV9pZCA9IFwiQUtJQUlPU0ZPRE5ON0VYQU1QTEVcIlxuYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID0gXCJ3SmFsclhVdG5GRU1JL0s3TURFTkcvYlB4UmZpQ1lFWEFNUExFS0VZXCJcbmF3c19yZWdpb24gPSBcInVzLWVhc3QtMVwiXG5cbiMgR29vZ2xlIFNlcnZpY2VzIChVc2VyIG11c3QgcHJvdmlkZSlcbmdvb2dsZV9jbGllbnRfaWQgPSBcInlvdXItZ29vZ2xlLWNsaWVudC1pZC5nb29nbGV1c2VyY29udGVudC5jb21cIlxuZ29vZ2xlX2NsaWVudF9zZWNyZXQgPSBcInlvdXItZ29vZ2xlLWNsaWVudC1zZWNyZXRcIlxuXG5bY29uZmlnXVxuIyBEb21haW4gQ29uZmlndXJhdGlvblxuW1tjb25maWcuZG9tYWluc11dXG5zZXJ2aWNlTmFtZSA9IFwiZnJvbnRlbmRcIlxucG9ydCA9IDMwMDBcbmhvc3QgPSBcIiR7ZnJvbnRlbmRfZG9tYWlufVwiXG5cbltbY29uZmlnLmRvbWFpbnNdXVxuc2VydmljZU5hbWUgPSBcImJhY2tlbmRcIlxucG9ydCA9IDMwMDNcbmhvc3QgPSBcIiR7YmFja2VuZF9kb21haW59XCJcblxuW1tjb25maWcuZG9tYWluc11dXG5zZXJ2aWNlTmFtZSA9IFwicmFnLWFwaVwiXG5wb3J0ID0gNDAwM1xuaG9zdCA9IFwiJHtyYWdfZG9tYWlufVwiXG5cbiMgRW52aXJvbm1lbnQgVmFyaWFibGVzXG5lbnYgPSBbXVxuXG4jIE5vIGFkZGl0aW9uYWwgbW91bnRzIG5lZWRlZFxubW91bnRzID0gW11cbiIKfQ==
```

## 🔧 How to Use This Template

### Step 1: Import Template in Dokploy

1. **Login to Dokploy Dashboard**
2. **Create New Compose Service**
   - Click "Create Service" → "Compose"
   - Give it a name like "Intervo"

3. **Import Template**
   - Go to **Advanced Section**
   - Scroll down to **Import Section**
   - Paste the base64 string above
   - Click **Import**

### Step 2: Configure Domains

After importing, you'll see three domain configurations. Set them up as:

- **Frontend Domain**: `app.yourdomain.com` (or your preferred subdomain)
- **Backend Domain**: `api.yourdomain.com` (or your preferred subdomain)  
- **RAG API Domain**: `rag.yourdomain.com` (or your preferred subdomain)

### Step 3: Configure Environment Variables

The template will auto-generate secure secrets for:
- ✅ `session_secret` (32 characters)
- ✅ `nextauth_secret` (32 characters)
- ✅ `encryption_key` (32 characters)

**You MUST configure these API keys:**

#### Required API Keys:
```bash
# Twilio (for phone functionality)
twilio_account_sid=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
twilio_auth_token=your-twilio-auth-token
twilio_api_key=SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
twilio_api_secret=your-twilio-api-secret
twilio_app_sid=APxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
twilio_phone_number=+1234567890

# AI Services
openai_api_key=sk-your-openai-api-key
groq_api_key=gsk_your-groq-api-key

# Speech Services
assemblyai_api_key=your-assemblyai-api-key
azure_speech_key=your-azure-speech-key
elevenlabs_api_key=your-elevenlabs-api-key

# AWS Services
aws_access_key_id=AKIAIOSFODNN7EXAMPLE
aws_secret_access_key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# Google Services
google_client_id=your-google-client-id.googleusercontent.com
google_client_secret=your-google-client-secret
```

### Step 4: Deploy

1. Click **Deploy** in Dokploy
2. Monitor the deployment logs
3. Wait for all services to start successfully

## ✅ What This Template Includes

### Services:
- **MongoDB**: Database service (internal)
- **Frontend**: Next.js application (port 3000)
- **Backend**: Node.js API server (port 3003)
- **RAG API**: Python service (port 4003)

### Features:
- ✅ Automatic SSL certificates via Traefik
- ✅ Internal networking between services
- ✅ Persistent volumes for data
- ✅ Auto-generated security secrets
- ✅ Production-ready configuration
- ✅ Health checks and restart policies

## 🔍 Verification Steps

After deployment:

1. **Check Service Health**:
   ```bash
   curl -I https://app.yourdomain.com
   curl -I https://api.yourdomain.com/health
   curl -I https://rag.yourdomain.com
   ```

2. **Monitor Logs** in Dokploy dashboard
3. **Test Functionality** by visiting your frontend URL

## 🛠️ Troubleshooting

### Common Issues:

1. **"Error when processing"**: 
   - Make sure you copied the complete base64 string
   - Check that there are no extra spaces or line breaks

2. **Services not starting**:
   - Check environment variables are properly set
   - Verify API keys are valid
   - Monitor logs for specific error messages

3. **Domain not accessible**:
   - Verify DNS is pointing to your Dokploy server
   - Check SSL certificate status
   - Ensure domains are properly configured

## 🎉 Success!

Your Intervo AI Platform should now be running with:
- **Frontend**: https://app.yourdomain.com
- **Backend API**: https://api.yourdomain.com
- **RAG API**: https://rag.yourdomain.com

The template handles all the complex Docker Compose configuration, networking, and SSL setup automatically! 🚀
